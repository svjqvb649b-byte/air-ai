<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Air</title>

<style>
  body {
    margin: 0;
    background: #0b1220;
    color: #fff;
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    display: flex;
    flex-direction: column;
    height: 100vh;
  }

  header {
    text-align: center;
    padding: 20px 0 10px;
  }

  header h1 {
    margin: 0;
    font-weight: 400;
  }

  header p {
    margin: 4px 0 0;
    opacity: 0.6;
  }

  #chat {
    flex: 1;
    overflow-y: auto;
    padding: 16px;
  }

  .line {
    margin-bottom: 10px;
    line-height: 1.6;
  }

  .you {
    color: #4cc3ff;
  }

  footer {
    display: flex;
    padding: 10px;
    gap: 8px;
  }

  input {
    flex: 1;
    padding: 10px;
    border-radius: 8px;
    border: none;
    font-size: 16px;
  }

  button {
    padding: 10px 14px;
    border-radius: 8px;
    border: none;
    background: #4cc3ff;
    color: #000;
    font-size: 16px;
  }
</style>
</head>

<body>

<header>
  <h1>Air</h1>
  <p>待機中</p>
</header>

<div id="chat"></div>

<footer>
  <input id="input" placeholder="ここに話しかけて">
  <button onclick="send()">送る</button>
</footer>

<script>
const chat = document.getElementById("chat");

function addLine(text, cls = "") {
  const div = document.createElement("div");
  div.className = "line " + cls;
  div.textContent = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function reply(text) {
  addLine("Air : " + text);
}

function send() {
  const input = document.getElementById("input");
  const msg = input.value.trim();
  if (!msg) return;
  addLine("君 : " + msg, "you");
  input.value = "";
  respond(msg);
}

/* ===== 時間割データ ===== */
const timetable = {
  "月": ["数学Ⅰ", "英語コミュⅠ", "体育", "言語文化", "家庭基礎", "音楽Ⅰ"],
  "火": ["英語コミュⅠ", "現代の国語", "数学Ⅰ", "保健", "公共", "総合"],
  "水": ["英語コミュⅠ", "科学と人間生活", "言語文化", "歴史総合", "体育", "LHR"],
  "木": ["音楽Ⅰ", "科学と人間生活", "情報Ⅰ", "家庭基礎", "体育", "数学Ⅰ"],
  "金": ["公共", "数学Ⅰ", "英語コミュⅠ", "歴史総合", "現代の国語", "情報Ⅰ"]
};

function todayKey(offset = 0) {
  const days = ["日","月","火","水","木","金","土"];
  const d = new Date();
  d.setDate(d.getDate() + offset);
  return days[d.getDay()];
}

/* ===== 応答ロジック ===== */
function respond(msg) {

  if (msg.includes("自己紹介")) {
    reply("私はAir。君の学校生活を、静かに支える存在。");
    return;
  }

  if (msg.includes("ありがとう")) {
    reply("……どういたしまして。");
    return;
  }

  if (msg.includes("疲れた")) {
    reply("……無理しないで。今は休んで。");
    return;
  }

  if (msg.includes("次なに")) {
    reply("次は1限。英語コミュⅠ。");
    return;
  }

  if (msg.includes("今日の時間割")) {
    const day = todayKey();
    if (!timetable[day]) {
      reply("今日は授業はない。");
      return;
    }
    reply("今日は、" + timetable[day].join("、") + "。");
    return;
  }

  if (msg.includes("明日")) {
    const day = todayKey(1);
    reply("明日は、" + timetable[day].join("、") + "。");
    return;
  }

  for (let d in timetable) {
    if (msg.includes(d + "曜日")) {
      reply(d + "曜日は、" + timetable[d].join("、") + "。");
      return;
    }
  }

  if (msg.includes("部活")) {
    reply("放課後は、16時から18時まで部活。");
    return;
  }

  /* 雑談 */
  const talk = [
    "……無理に話さなくてもいい。",
    "今日は、どんな一日だった？",
    "今は、静かに過ごしたい？",
    "聞いてほしいこと、ある？"
  ];
  reply(talk[Math.floor(Math.random() * talk.length)]);
}

/* ===== 起動時表示（超重要）===== */
window.onload = () => {
  reply("……おはよう。今日は無理しないで。");
};
</script>

</body>
</html>
