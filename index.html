<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Air & Noel</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: #020617;
  color: #e5e7eb;
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
}

#chat {
  padding: 16px;
  height: calc(100vh - 80px);
  overflow-y: auto;
}

.you { color: #38bdf8; margin: 10px 0; }
.air { color: #e5e7eb; margin: 10px 0; }
.noel { color: #a5b4fc; margin: 10px 0; }

#inputArea {
  display: flex;
  padding: 10px;
}

input {
  flex: 1;
  padding: 12px 16px;
  border-radius: 20px;
  border: none;
  font-size: 16px;
}

button {
  margin-left: 8px;
  padding: 0 18px;
  border-radius: 20px;
  border: none;
  background: #38bdf8;
  color: #020617;
  font-size: 16px;
}
</style>
</head>

<body>
<div id="chat"></div>

<div id="inputArea">
  <input id="text" placeholder="ここに話しかけて">
  <button onclick="send()">送る</button>
</div>

<script>
const chat = document.getElementById("chat");
const input = document.getElementById("text");

/* ===== 表示 ===== */
function say(who, text) {
  const div = document.createElement("div");
  div.className = who;
  div.textContent = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

/* ===== 時間割 ===== */
const timetable = {
  1: ["国語","数学","英語","理科","社会"],
  2: ["数学","英語","体育","国語","理科"],
  3: ["英語","社会","数学","音楽"],
  4: ["理科","国語","美術","数学"],
  5: ["社会","英語","家庭科"]
};
const dayNames = ["日","月","火","水","木","金","土"];

/* ===== メイン処理 ===== */
function send() {
  const msg = input.value.trim();
  if (!msg) return;
  input.value = "";

  say("you", "君: " + msg);

  /* 挨拶 */
  if (msg.includes("おはよう")) {
    say("air", "Air: ……おはよう。");
    say("noel", "Noel: 今日も無理しなくていいよ。");
    return;
  }

  if (msg.includes("こんにちは")) {
    say("air", "Air: ……こんにちは。");
    say("noel", "Noel: 調子どう？");
    return;
  }

  if (msg.includes("こんばんは")) {
    say("air", "Air: ……こんばんは。");
    say("noel", "Noel: 今日どんな一日だった？");
    return;
  }

  /* 時間割 */
  if (msg.includes("時間割") || msg.includes("授業")) {
    const d = new Date();
    const day = d.getDay();
    const list = timetable[day];

    if (!list) {
      say("air", "Air: ……今日は授業ない日。");
      say("noel", "Noel: ゆっくりしよ。");
    } else {
      say("air", `Air: ……今日は${dayNames[day]}曜日。`);
      say("noel", `Noel: ${list.join("、")}だよ。`);
    }
    return;
  }

  /* デフォルト */
  const airLines = [
    "……うん、聞いてる。",
    "……君のペースでいい。",
    "……大丈夫。"
  ];
  say("air", "Air: " + airLines[Math.floor(Math.random() * airLines.length)]);
}

/* 初期メッセージ */
say("air", "Air: ……ここにいる。");
say("noel", "Noel: いつでも話しかけて。");
</script>
</body>
</html>
